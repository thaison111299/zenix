(this.webpackJsonpzenix=this.webpackJsonpzenix||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c(16),a=c.n(s),r=(c(23),c(4)),i=(c(24),c(25),c(26),c(1));var o=function(e){var t=e.comment;return e.user,Object(i.jsx)("div",{className:"comment",children:Object(i.jsxs)("div",{className:"main",children:[Object(i.jsxs)("div",{className:"introduce",children:[Object(i.jsx)("h4",{className:"name",children:t.by.name}),Object(i.jsx)("img",{className:"icon",src:t.by.avatarURL})]}),Object(i.jsxs)("div",{className:"comment-content",children:[Object(i.jsx)("h5",{className:"comment-text",children:t.text}),Object(i.jsxs)("div",{className:"comment-bar",children:[Object(i.jsx)("h5",{children:"like"}),Object(i.jsx)("h5",{children:"show reply"}),Object(i.jsx)("h5",{children:"reply"})]})]})]})})},l=c(14),u=c.n(l),j=c(10),b=c(17),m=c(11);c(33),c(34);m.a.initializeApp({apiKey:"AIzaSyBG0T52ZNl-nyWFd9S3ARk6eNyFo0gVnkE",authDomain:"todo-60b13.firebaseapp.com",projectId:"todo-60b13",storageBucket:"todo-60b13.appspot.com",messagingSenderId:"637707986316",appId:"1:637707986316:web:062d b7326b2d39b39c22a9",measurementId:"G-DPZ3N9Z1PG"});var d=m.a.storage(),O=m.a.firestore(),h=m.a.firestore.FieldValue.serverTimestamp;function f(e,t,c){var n=d.ref(t[c]),s=O.collection(e);n.put(t).on("state_changed",(function(e){}),(function(e){}),Object(b.a)(u.a.mark((function e(){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=h(),e.next=3,s.add(Object(j.a)(Object(j.a)({},t),{},{createAt:c}));case 3:case"end":return e.stop()}}),e)}))))}function x(e){var t=Object(n.useState)([]),c=Object(r.a)(t,2),s=c[0],a=c[1];return Object(n.useEffect)((function(){var t=O.collection(e).orderBy("createAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){e.data()&&t.push(Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id}))})),a(t)}));return function(){return t()}}),[e]),s}var p=function(e){var t=e.status,c=e.user,s=x("commentlist"),a=Object(n.useState)(""),l=Object(r.a)(a,2),u=l[0],j=l[1],b=Object(n.useState)(!1),m=Object(r.a)(b,2),d=m[0],O=m[1];return Object(i.jsxs)("div",{className:"status",children:[Object(i.jsxs)("div",{className:"introduce",children:[Object(i.jsx)("img",{alt:"avatar",className:"user-avatar",src:t.by.avatarURL}),Object(i.jsx)("h2",{className:"user-name",children:t.by.name})]}),Object(i.jsx)("h3",{className:"status-text",children:t.text}),Object(i.jsxs)("div",{className:"status-bar",children:[Object(i.jsx)("div",{className:"like-icon like"}),Object(i.jsx)("h4",{onClick:function(){return O(!d)},className:"show-comment",children:"show comment"})]}),d&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("form",{className:"form-upload-comment",onSubmit:function(e){e.preventDefault(),f("commentlist",{text:u,of:t,by:c},"text"),j("")},children:[Object(i.jsx)("img",{className:"user-avatar",src:c.avatarURL}),Object(i.jsx)("input",{type:"text",placeholder:"your comment...",onChange:function(e){return j(e.target.value)},value:u,required:!0})]}),s.map((function(e){if(e.of.id===t.id)return Object(i.jsx)(o,{user:c,comment:e},e.id)}))]})]})},g=(c(30),c(18));function v(e,t){var c=Object.keys,n=typeof e;return e&&t&&"object"===n&&n===typeof t?c(e).length===c(t).length&&c(e).every((function(c){return v(e[c],t[c])})):e===t}var N={deleteCookie:function(e){document.cookie=e+" = ; expires = Thu, 01-Jan-1970 00:00:01 GMT ;"},getCookieObject:function(e){var t=function(e){for(var t=e+"=",c=decodeURIComponent(document.cookie).split(";"),n=0;n<c.length;n++){for(var s=c[n];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""}(e);if(t){var c=JSON.parse(t);if(c)return c}return null},uploadCookie:function(e,t){var c=new Date;c.setMonth(c.getMonth()+1),document.cookie="".concat(e," = ")+JSON.stringify(t)+"; expires = "+c.toUTCString()+";"},includesObject:function(e,t){var c,n=Object(g.a)(e);try{for(n.s();!(c=n.n()).done;){if(v(c.value,t))return!0}}catch(s){n.e(s)}finally{n.f()}return!1},equalObject:v};c(31);var w=function(e){var t=e.person;return Object(i.jsxs)("div",{className:"friend",children:[Object(i.jsx)("img",{className:"icon",src:t.avatarURL}),Object(i.jsx)("h4",{className:"friend-name",children:t.name}),Object(i.jsx)("div",{className:"green-dot"})]})};var y=function(e){var t=e.setUser,c=e.user,s=e.userList,a=Object(n.useState)(!1),o=Object(r.a)(a,2),l=o[0],u=o[1],j=Object(n.useState)(!0),b=Object(r.a)(j,2),m=b[0],d=b[1],O=Object(n.useState)(!1),h=Object(r.a)(O,2),f=h[0],x=h[1],p=Object(n.useState)(!1),g=Object(r.a)(p,2),v=g[0],y=g[1],k=function(){window.innerWidth<=690?d(!1):d(!0)};function S(){N.deleteCookie("user"),t(null)}window.addEventListener("resize",k),Object(n.useEffect)((function(){k()}),[]);var C="https://i.pinimg.com/originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png";return Object(i.jsxs)("div",{className:"navbar-container",children:[Object(i.jsxs)("div",{className:"navbar",children:[Object(i.jsx)("div",{className:"logo"}),m&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("form",{className:"form-search "+(l?"":"white"),children:[Object(i.jsx)("img",{onClick:function(){return u(!l)},className:"search-icon",src:"https://cdn2.iconfinder.com/data/icons/ios-7-icons/50/search-512.png"}),Object(i.jsx)("input",{className:"input-search "+(l?"":"none"),type:"text",placeholder:l?"search":""})]}),Object(i.jsxs)("div",{className:"navbar-introduce",children:[Object(i.jsx)("img",{className:"avatar",src:C}),Object(i.jsxs)("div",{className:"introduce-text",children:[Object(i.jsx)("h3",{className:"name",children:c.name}),Object(i.jsx)("h4",{className:"email",children:c.email})]})]}),Object(i.jsx)("button",{onClick:S,className:"button-log",children:"logout"})]}),!m&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{children:"ZENIX"}),Object(i.jsx)("img",{onClick:function(){return x(!f)},className:"extend-icon",src:f?"https://uxwing.com/wp-content/themes/uxwing/download/01-user_interface/close.png":"https://image.flaticon.com/icons/png/512/56/56763.png"})]})]}),f&&!m&&Object(i.jsxs)("ul",{className:"navbar-mobile",children:[Object(i.jsxs)("li",{className:"item navbar-introduce",children:[Object(i.jsx)("img",{className:"avatar",src:C}),Object(i.jsxs)("div",{className:"introduce-text",children:[Object(i.jsx)("h3",{className:"name",children:c.name}),Object(i.jsx)("h4",{className:"email",children:c.email})]})]}),Object(i.jsx)("button",{onClick:S,className:"item button-logout",children:"logout"}),Object(i.jsx)("div",{className:"item-logout",onClick:S,children:Object(i.jsx)("img",{className:"icon-logout",src:"https://www.iconpacks.net/icons/2/free-exit-logout-icon-2857-thumb.png"})}),Object(i.jsx)("div",{onClick:function(){return y(!v)},className:"item",children:Object(i.jsx)("img",{className:"friend-icon",src:"https://img.icons8.com/ios/452/friends.png"})}),v&&s.map((function(e){return Object(i.jsx)(w,{person:e})}))]})]})};var k=function(){var e=x("userlist"),t=x("statuslist"),c=Object(n.useState)(null),s=Object(r.a)(c,2),a=s[0],o=s[1],l=Object(n.useState)(!0),u=Object(r.a)(l,2),j=u[0],b=u[1],m=Object(n.useState)(!1),d=Object(r.a)(m,2),O=d[0],h=d[1],g=Object(n.useState)(""),v=Object(r.a)(g,2),k=v[0],S=v[1],C=Object(n.useState)(""),E=Object(r.a)(C,2),I=E[0],L=E[1],U=Object(n.useState)(""),q=Object(r.a)(U,2),z=q[0],R=q[1],A=Object(n.useState)(""),D=Object(r.a)(A,2),F=D[0],T=D[1],Z=Object(n.useState)(""),G=Object(r.a)(Z,2),J=G[0],B=G[1],W=Object(n.useState)(""),M=Object(r.a)(W,2),X=M[0],P=M[1],V=Object(n.useState)(""),_=Object(r.a)(V,2),K=_[0],H=_[1],Q=function(){window.innerWidth<=1263?b(!1):b(!0)};return window.addEventListener("resize",Q),Object(n.useEffect)((function(){Q(),o(N.getCookieObject("user"))}),[]),Object(i.jsxs)("div",{className:"app",children:[a&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(y,{userList:e,setUser:o,user:a}),Object(i.jsxs)("form",{className:"form-upload-status",onSubmit:function(e){e.preventDefault(),f("statuslist",{text:K,by:a},"text"),H("")},children:[Object(i.jsx)("input",{value:K,onChange:function(e){return H(e.target.value)},type:"text",required:!0,placeholder:"".concat(a.name,", write something...")}),Object(i.jsx)("button",{children:"upload"})]}),Object(i.jsxs)("div",{className:"main-section",children:[j&&Object(i.jsx)("div",{className:"friend-section",children:e.map((function(e){return Object(i.jsx)(w,{person:e})}))}),Object(i.jsx)("div",{className:"status-container",children:t.map((function(e){return Object(i.jsx)(p,{user:a,status:e},e.id)}))})]})]}),!O&&!a&&Object(i.jsxs)("form",{form:!0,className:"form-log",onSubmit:function(t){if(t.preventDefault(),e){for(var c=0;c<e.length;c++){var n=e[c],s=n.email,a=n.password;if(s===J&&a===X)return N.uploadCookie("user",e[c]),void o(e[c])}alert("email or password wrong")}},children:[Object(i.jsxs)("div",{className:"zenix-intro",children:[Object(i.jsx)("div",{className:"white-logo"}),Object(i.jsx)("h1",{children:"ZENIX"})]}),Object(i.jsx)("h1",{children:"LOGIN"}),Object(i.jsx)("input",{onChange:function(e){return B(e.target.value)},required:!0,className:"input-log",placeholder:"email",type:"text"}),Object(i.jsx)("input",{onChange:function(e){return P(e.target.value)},required:!0,className:"input-log",placeholder:"password",type:"text"}),Object(i.jsx)("button",{className:"button-log",children:"login"}),Object(i.jsx)("button",{onClick:function(){return h(!0)},className:"button-log",children:"register"})]}),O&&!a&&Object(i.jsxs)("form",{className:"form-log",onSubmit:function(t){t.preventDefault();var c={name:k,avatarURL:z||"https://i.pinimg.com/originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png",email:I,password:F};if(e){for(var n=0;n<e.length;n++){if(e[n].email===I)return void alert("email existed")}f("userlist",c,"name"),alert("create success")}},children:[Object(i.jsxs)("div",{className:"zenix-intro",children:[Object(i.jsx)("div",{className:"white-logo"}),Object(i.jsx)("h1",{children:"ZENIX"})]}),Object(i.jsx)("h1",{children:"CREATE NEW"}),Object(i.jsx)("input",{required:!0,onChange:function(e){return S(e.target.value)},className:"input-log",placeholder:"name",type:"text"}),Object(i.jsx)("input",{onChange:function(e){return R(e.target.value)},className:"input-log",placeholder:"avatar url",type:"text"}),Object(i.jsx)("input",{required:!0,onChange:function(e){return L(e.target.value)},className:"input-log",placeholder:"email",type:"text"}),Object(i.jsx)("input",{required:!0,onChange:function(e){return T(e.target.value)},className:"input-log",placeholder:"password",type:"text"}),Object(i.jsx)("button",{className:"button-log",children:"create"}),Object(i.jsx)("button",{onClick:function(){return h(!1)},className:"button-log",children:"back to login"})]})]})};a.a.render(Object(i.jsx)(k,{}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.666bbe6c.chunk.js.map