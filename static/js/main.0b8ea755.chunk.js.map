{"version":3,"sources":["redux/reducers/rootReducer.js","firebase/config.js","firebase/deleteDocumentById.js","components/Comment.js","firebase/uploadDocument.js","firebase/getDocuments.js","firebase/updateDocument.js","redux/actions/userActions.js","components/Status.js","firebase/getCommentsByStatusId.js","vein.js","components/Friend.js","components/Result.js","components/Navbar.js","components/Home.js","redux/actions/statusActions.js","firebase/StoragePicture.js","components/Chatbox.js","firebase/GetMessages.js","components/Information.js","firebase/GetMyStatuses.js","App.js","index.js"],"names":["stateInit","user","userList","statusList","userClick","rootReducer","state","action","type","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","projectStorage","storage","projectFirestore","firestore","timestamp","FieldValue","serverTimestamp","deleteDocumentById","documentName","id","collection","doc","delete","then","console","log","catch","error","Comment","props","comment","className","by","name","src","avatarURL","text","onClick","uploadDocument","collectionName","newDocument","refFeild","storageRef","ref","collectionRef","put","on","snap","err","a","createdAt","add","createAt","GetDocuments","useState","myList","setMyList","useEffect","unsub","orderBy","onSnapshot","documents","forEach","data","push","updateDocument","feild","value","update","setUser_a","setUserList_a","setUserClick_a","connect","dispatch","setUserClick","status","commentList","statusId","of","GetCommentsByStatusId","commentText","setCommentText","showComment","setShowComment","liked","setLiked","i","like","length","to","DIR_PATH","alt","pictureUrl","fileType","controls","newLikeList","filter","userwholiked","style","marginLeft","fontSize","color","onSubmit","e","preventDefault","placeholder","onChange","target","required","map","cm","equalObject","x","y","ok","Object","keys","tx","every","key","vein","deleteCookie","cookieName","document","cookie","getCookieObject","cookieData","ca","decodeURIComponent","split","c","charAt","substring","indexOf","getCookie","cookieObject","JSON","parse","uploadCookie","givenObject","now","Date","setMonth","getMonth","stringify","toUTCString","includesObject","objectList","object","person","result","setUser","full","setFull","show","setShow","showFriends","setShowFriends","searchText","setSearchText","searchList","setSearchList","handleWidthChange","window","innerWidth","handleLogout","addEventListener","inputText","results","toLowerCase","includes","findResult","trim","res","email","fr","setUserList","setStatusList","setStatusList_a","showFriend","setShowFriend","statusText","setStatusText","file","setFile","setPictureUrl","setFileType","progress","setProgress","percent","bytesTransferred","totalBytes","parseInt","getDownloadURL","url","StoragePicture","for","files","width","height","st","setChat","setText","messages","userEmail","targetEmail","room","GetMessages","count","setCount","div","getElementById","$","animate","scrollTop","scrollHeight","clientHeight","scrollToBottom","message","chat","isFriend","setIsFriend","friends","myStatusList","userid","GetMyStatuses","newFriendList","friend","newFriendList2","newName","setNewName","newEmail","setNewEmail","newAvatarURL","setNewAvatarURL","newPassword","setNewPassword","loginEmail","setLoginEmail","loginPassword","setLoginPassword","doRegister","setDoRegister","path","exact","component","Home","Information","form","password","alert","newUser","store","createStore","ReactDOM","render"],"mappings":"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","file":"static/js/main.0b8ea755.chunk.js","sourcesContent":["import { combineReducers } from \"redux\"\r\n\r\n\r\nconst stateInit = {\r\n    user: null,\r\n    userList: [],\r\n    statusList: [],\r\n    userClick: null,\r\n}\r\n\r\nfunction rootReducer(state = stateInit, action) {\r\n\r\n    if (action.type === \"SET_USER_CLICK\") {\r\n        //action.targetChat\r\n        let { userClick } = action\r\n        return {\r\n            ...state,\r\n            userClick: userClick\r\n        }\r\n    }\r\n\r\n\r\n    if (action.type === \"SET_USER\") {\r\n        //action.targetChat\r\n        let { user } = action\r\n        return {\r\n            ...state,\r\n            user: user\r\n        }\r\n    }\r\n\r\n    if (action.type === \"SET_USER_LIST\") {\r\n        //action.targetChat\r\n        let { userList } = action\r\n        return {\r\n            ...state,\r\n            userList: userList\r\n        }\r\n    }\r\n\r\n\r\n    if (action.type === \"SET_STATUS_LIST\") {\r\n        //action.targetChat\r\n        let { statusList } = action\r\n        return {\r\n            ...state,\r\n            statusList: statusList\r\n        }\r\n    }\r\n\r\n    //no action but reducer still run.\r\n    //nothing happen\r\n    return state\r\n}\r\n\r\nexport default rootReducer","import firebase from 'firebase/app'\r\n\r\nimport 'firebase/storage';\r\nimport 'firebase/firestore';\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyBG0T52ZNl-nyWFd9S3ARk6eNyFo0gVnkE\",\r\n    authDomain: \"todo-60b13.firebaseapp.com\",\r\n    projectId: \"todo-60b13\",\r\n    storageBucket: \"todo-60b13.appspot.com\",\r\n    messagingSenderId: \"637707986316\",\r\n    appId: \"1:637707986316:web:062d b7326b2d39b39c22a9\",\r\n    measurementId: \"G-DPZ3N9Z1PG\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst projectStorage = firebase.storage();\r\nconst projectFirestore = firebase.firestore();\r\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\r\n\r\nexport { projectStorage, projectFirestore, timestamp };","import { useState, useEffect } from 'react';\r\nimport { projectStorage, projectFirestore } from './config';\r\n\r\n\r\nexport default function deleteDocumentById(documentName, id) {\r\n    projectFirestore.collection(documentName)\r\n        .doc(id)\r\n        .delete()\r\n        .then(function () {\r\n            console.log(\"Document successfully deleted!\");\r\n        })\r\n        .catch(function (error) {\r\n            console.error(\"Error removing document: \", error);\r\n        });\r\n}\r\n","import deleteDocumentById from '../firebase/deleteDocumentById'\r\nimport '../styles/Comment.css'\r\n\r\nfunction Comment(props) {\r\n    const { comment, user } = props\r\n    const replyList = [\r\n        { text: \"reply 1\", ofId: \"2\", id: \"1\" },\r\n        { text: \"reply 2\", ofId: \"2\", id: \"2\" },\r\n    ]\r\n\r\n    function handleDelete() {\r\n        // console.log(\"delete\")\r\n        deleteDocumentById('commentlist', comment.id)\r\n    }\r\n\r\n    return (\r\n        <div className=\"comment\">\r\n            <div className=\"main\">\r\n                <div className=\"introduce\">\r\n                    <h4 className=\"name\">{comment.by.name}</h4>\r\n                    <img className=\"icon\" src={comment.by.avatarURL} />\r\n                </div>\r\n                <div className=\"comment-content\">\r\n                    <h5 className=\"comment-text\">{comment.text}</h5>\r\n                    <div className=\"comment-bar\">\r\n                        <h5>like</h5>\r\n                        <h5>reply</h5>\r\n\r\n                        {user.id === comment.by.id &&\r\n                            <h5 onClick={handleDelete}>delete</h5>\r\n                        }\r\n\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Comment;","import { projectStorage, projectFirestore, timestamp } from './config';\r\n\r\nexport default function uploadDocument(collectionName, newDocument, refFeild) {\r\n    const storageRef = projectStorage.ref(newDocument[refFeild]);\r\n    const collectionRef = projectFirestore.collection(collectionName);\r\n\r\n    storageRef.put(newDocument)\r\n        .on('state_changed',\r\n            (snap) => { },\r\n            (err) => { },\r\n            async () => {\r\n                const createdAt = timestamp();\r\n                await collectionRef.add({ ...newDocument, createAt: createdAt });\r\n            });\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { projectFirestore } from './config';\r\n\r\nexport default function GetDocuments(collectionName) {\r\n    const [myList, setMyList] = useState([])\r\n    useEffect(() => {\r\n        const unsub = projectFirestore\r\n            .collection(collectionName)\r\n            .orderBy('createAt', 'desc')\r\n            .onSnapshot(snap => {\r\n                let documents = []\r\n                snap.forEach(doc => {\r\n                    if (doc.data()) {\r\n                        documents.push({ ...doc.data(), id: doc.id })\r\n                    }\r\n                })\r\n                setMyList(documents)\r\n            })\r\n\r\n        return () => unsub()\r\n\r\n    }, [collectionName])\r\n\r\n    return myList\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { projectStorage, projectFirestore } from './config';\r\n\r\nexport default function updateDocument(documentName, id, feild, value) {\r\n    var docRef = projectFirestore.collection(documentName).doc(id)\r\n    docRef.update(feild, value)\r\n}\r\n\r\n","function setUser_a(user) {\r\n    return {\r\n        type: \"SET_USER\",\r\n        user: user\r\n    }\r\n}\r\n\r\nfunction setUserList_a(userList) {\r\n    return {\r\n        type: \"SET_USER_LIST\",\r\n        userList: userList\r\n    }\r\n}\r\n\r\nfunction setUserClick_a(userClick) {\r\n    return {\r\n        type: \"SET_USER_CLICK\",\r\n        userClick: userClick\r\n    }\r\n}\r\n\r\n\r\n\r\nexport { setUser_a, setUserList_a, setUserClick_a }","\r\nimport '../styles/Status.css'\r\nimport Comment from './Comment'\r\nimport { useState, useEffect } from 'react'\r\nimport uploadDocument from '../firebase/uploadDocument'\r\nimport GetDocuments from '../firebase/getDocuments'\r\nimport updateDocument from '../firebase/updateDocument'\r\nimport GetSpecifyDocuments from '../firebase/getSpecifyDocuments'\r\nimport GetCommentsByStatusId from '../firebase/getCommentsByStatusId'\r\nimport deleteDocumentById from '../firebase/deleteDocumentById'\r\nimport { connect } from 'react-redux'\r\nimport { setStatusList_a } from '../redux/actions/statusActions'\r\nimport { Link } from 'react-router-dom'\r\nimport { setUserClick_a } from '../redux/actions/userActions'\r\n\r\nfunction Status(props) {\r\n\tconst DIR_PATH = \"/zenix\"\r\n\tconst {\r\n\t\tstatus,\r\n\t\tuser,\r\n\t\tsetUserClick\r\n\t} = props\r\n\r\n\r\n\t// const [commentList, setCommentList] = useState([\r\n\t// \t{ id: \"1\", text: \"ban co sao khong\", ofId: \"1\" },\r\n\t// \t{ id: \"2\", text: \"dung nghi gi ca\", ofId: \"UDjfRr7P1Krm5SVyqQ6J\" },\r\n\t// \t{ id: \"3\", text: \"khong co chuyen gi dau\", ofId: \"UDjfRr7P1Krm5SVyqQ6J\" }\r\n\t// ])\r\n\r\n\tconst commentList = GetCommentsByStatusId('commentlist', status.id)\r\n\tconst [commentText, setCommentText] = useState('')\r\n\tconst [showComment, setShowComment] = useState(true)\r\n\r\n\tconst [liked, setLiked] = useState(false)\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tfor (let i = 0; i < status.like.length; i++) {\r\n\t\t\tif (status.like[i].id === user.id) {\r\n\t\t\t\t// console.log(\"you liked \")\r\n\t\t\t\tsetLiked(true)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(\"you not liked\")\r\n\r\n\r\n\t}, [])\r\n\r\n\t// const [commentNumber, setCommentNumber] = useState(0)\r\n\tfunction commentSection() {\r\n\t\t//for temp\r\n\t\t// let x = 0;\r\n\t\tconst commentss = commentList.map(cm => {\r\n\t\t\t// if (cm.of.id === status.id) {\r\n\t\t\t// x++\r\n\t\t\treturn (<Comment user={user} key={cm.id} comment={cm} />)\r\n\t\t\t// }\r\n\t\t})\r\n\r\n\t\t// setCommentNumber(commentss.length)\r\n\t\treturn commentss\r\n\t}\r\n\tfunction handleUploadComment(e) {\r\n\t\te.preventDefault()\r\n\r\n\t\tlet newComment = {\r\n\t\t\ttext: commentText,\r\n\t\t\tof: status,\r\n\t\t\tby: user,\r\n\t\t}\r\n\t\tuploadDocument(\"commentlist\", newComment, \"text\")\r\n\t\tsetCommentText('')\r\n\t}\r\n\tfunction handleLike() {\r\n\t\tsetLiked(!liked)\r\n\t\tlet like = !liked\r\n\t\tif (like) {\r\n\t\t\tfor (let i = 0; i < status.like.length; i++) {\r\n\t\t\t\tif (status.like[i].id === user.id) {\r\n\t\t\t\t\t// console.log(\"you liked \")\r\n\t\t\t\t\t// setLiked(true)\r\n\t\t\t\t\t//cai nao cung dc tru user hien tai - lay ra\r\n\t\t\t\t\tlet newLikeList = status.like.filter(userwholiked => {\r\n\t\t\t\t\t\treturn userwholiked.id !== user.id\r\n\t\t\t\t\t})\r\n\t\t\t\t\tupdateDocument('statuslist', status.id, 'like', newLikeList)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tupdateDocument('statuslist', status.id, 'like', [...status.like, user])\r\n\t\t} else {\r\n\t\t\tlet newLikeList = status.like.filter(userwholiked => {\r\n\t\t\t\treturn userwholiked.id !== user.id\r\n\t\t\t})\r\n\t\t\tupdateDocument('statuslist', status.id, 'like', newLikeList)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleDelete() {\r\n\t\tconsole.log(\"deleted\")\r\n\t\tdeleteDocumentById('statuslist', status.id)\r\n\t}\r\n\tfunction handleClickTitle() {\r\n\t\tsetUserClick(status.by)\r\n\r\n\t}\r\n\tconst defaultAvatarURL = \"https://i.pinimg.com/\" +\r\n\t\t\"originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png\"\r\n\treturn (\r\n\r\n\t\t<div className=\"status\">\r\n\t\t\t<Link to={DIR_PATH + \"/information\"} className=\"introduce\" onClick={handleClickTitle}>\r\n\t\t\t\t<img alt=\"avatar\" className=\"user-avatar\" src={status.by.avatarURL} />\r\n\t\t\t\t<h2 className=\"user-name\">{status.by.name}</h2>\r\n\t\t\t\t{\r\n\t\t\t\t\tstatus.by.id === user.id &&\r\n\t\t\t\t\t<button onClick={handleDelete} className=\"delete\">X</button>\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t</Link>\r\n\r\n\t\t\t<h3 className=\"status-text\">{status.text}</h3>\r\n\t\t\t{\r\n\t\t\t\tstatus.pictureUrl &&\r\n\t\t\t\t<>\r\n\t\t\t\t\t{status.fileType === 'image' &&\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"status-image\"\r\n\t\t\t\t\t\t\tsrc={status.pictureUrl}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{status.fileType === 'video' &&\r\n\t\t\t\t\t\t<video className=\"status-video\" controls>\r\n\t\t\t\t\t\t\t<source src={status.pictureUrl} type=\"video/mp4\" />\r\n\t\t\t\t\t\t</video>\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t</>\r\n\r\n\t\t\t}\r\n\r\n\t\t\t<div className=\"status-bar\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tonClick={handleLike}\r\n\t\t\t\t\tclassName={\"like-icon \" + (liked ? \"liked\" : \"like\")}\r\n\t\t\t\t/>\r\n\r\n\r\n\t\t\t\t<h3\r\n\t\t\t\t\tclassName=\"like-count\"\r\n\t\t\t\t\tstyle={{ marginLeft: \"10px\", fontSize: \"24px\", color: \"blue\" }}\r\n\t\t\t\t>{status.like.length}</h3>\r\n\r\n\r\n\t\t\t\t<h4 onClick={() => setShowComment(!showComment)}\r\n\t\t\t\t\tclassName=\"show-comment\">{showComment ? `hide ${commentList.length} comment` : `show ${commentList.length} comment`}</h4>\r\n\t\t\t</div>\r\n\r\n\t\t\t{\r\n\t\t\t\tshowComment &&\r\n\t\t\t\t<>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tclassName=\"form-upload-comment\"\r\n\t\t\t\t\t\tonSubmit={handleUploadComment}>\r\n\t\t\t\t\t\t<img className=\"user-avatar\"\r\n\t\t\t\t\t\t\tsrc={user.avatarURL}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"your comment...\"\r\n\t\t\t\t\t\t\tonChange={(e) => setCommentText(e.target.value)}\r\n\t\t\t\t\t\t\tvalue={commentText}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t{commentSection()}\r\n\t\t\t\t</>\r\n\r\n\t\t\t}\r\n\r\n\t\t</div >\r\n\t)\r\n}\r\n\r\n\r\nfunction mapState(state) {\r\n\treturn state\r\n}\r\n\r\nfunction mapDispatch(dispatch) {\r\n\treturn {\r\n\t\tsetUserClick: (user) => dispatch(setUserClick_a(user))\r\n\t}\r\n}\r\n\r\n\r\n// export default App;\r\nexport default connect(mapState, mapDispatch)(Status)\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { projectFirestore } from './config';\r\n\r\nexport default function GetCommentsByStatusId(collectionName, statusId) {\r\n    const [myList, setMyList] = useState([])\r\n    useEffect(() => {\r\n        const unsub = projectFirestore\r\n            .collection(collectionName)\r\n            .orderBy('createAt', 'asc')\r\n            .onSnapshot(snap => {\r\n                let documents = []\r\n                snap.forEach(doc => {\r\n                    if (doc.data() && doc.data().of.id === statusId) {\r\n                        documents.push({ ...doc.data(), id: doc.id })\r\n                    }\r\n                })\r\n                setMyList(documents)\r\n            })\r\n\r\n        return () => unsub()\r\n\r\n    }, [collectionName])\r\n\r\n    return myList\r\n}\r\n","function equalObject(x, y) {\r\n    const ok = Object.keys, tx = typeof x, ty = typeof y;\r\n    return x && y && tx === 'object' && tx === ty ? (\r\n        ok(x).length === ok(y).length &&\r\n        ok(x).every(key => equalObject(x[key], y[key]))\r\n    ) : (x === y);\r\n}\r\n\r\nfunction includesObject(objectList, object) {\r\n    for (let subObject of objectList) {\r\n        if (equalObject(subObject, object)) {\r\n            return true\r\n        }\r\n    }\r\n    return false\r\n}\r\n\r\nfunction getCookie(cookieName) {\r\n    var name = cookieName + \"=\";\r\n    var decodedCookie = decodeURIComponent(document.cookie);\r\n    var ca = decodedCookie.split(';');\r\n    for (var i = 0; i < ca.length; i++) {\r\n        var c = ca[i];\r\n        while (c.charAt(0) == ' ') {\r\n            c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) == 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n\r\nfunction uploadCookie(cookieName, givenObject) {\r\n    var now = new Date()\r\n    now.setMonth(now.getMonth() + 1)\r\n    document.cookie = `${cookieName} = ` + JSON.stringify(givenObject) + \"; expires = \" + now.toUTCString() + \";\";\r\n}\r\n\r\nfunction deleteCookie(cookieName) {\r\n    document.cookie = cookieName + \" = ; expires = Thu, 01-Jan-1970 00:00:01 GMT ;\"\r\n}\r\n\r\nfunction getCookieObject(cookieName) {\r\n    //tra ve object tu cookie\r\n    const cookieData = getCookie(cookieName)//string\r\n    if (cookieData) {\r\n        const cookieObject = JSON.parse(cookieData)\r\n        if (cookieObject) {\r\n            return cookieObject\r\n        }\r\n    }\r\n    return null\r\n}\r\nconst vein = { deleteCookie, getCookieObject, uploadCookie, includesObject, equalObject }\r\nexport default vein","\r\nimport '../styles/Friend.css'\r\nimport { setUserClick_a } from '../redux/actions/userActions'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nfunction Friend(props) {\r\n    const DIR_PATH = \"/zenix\"\r\n    const { person, setUserClick } = props\r\n    const exampleURL = \"https://i.pinimg.com/originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png\"\r\n\r\n    function handleClick() {\r\n        // console.log(\"clicked\")\r\n        setUserClick(person)\r\n    }\r\n\r\n    return (\r\n        <Link to={DIR_PATH + \"/information\"} className=\"friend\" onClick={handleClick}>\r\n            <img className=\"icon\" src={person.avatarURL} />\r\n            <h4 className=\"friend-name\">{person.name}</h4>\r\n            <div className=\"green-dot\"></div>\r\n        </Link>\r\n    )\r\n}\r\nfunction mapState(state) {\r\n    return state\r\n}\r\n\r\nfunction mapDispatch(dispatch) {\r\n    return {\r\n        setUserClick: (user) => dispatch(setUserClick_a(user))\r\n    }\r\n}\r\n\r\nexport default connect(mapState, mapDispatch)(Friend)","import { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { setUserClick_a } from '../redux/actions/userActions';\r\nimport '../styles/Result.css'\r\nfunction Result(props) {\r\n  const DIR_PATH = \"/zenix\"\r\n\r\n  const { result, setUserClick } = props\r\n  const { type, value } = result\r\n  let status;\r\n  let person;\r\n\r\n  return (\r\n    <div className=\"result\">\r\n      <h2 className=\"type\">{result.type}</h2>\r\n\r\n      {type === \"user\" &&\r\n\r\n        <img\r\n          className=\"avatar\"\r\n          src={value.avatarURL}\r\n        />\r\n      }\r\n\r\n      <Link to={DIR_PATH + \"/information/\"}>\r\n        <h3\r\n          onClick={() => setUserClick(result.value)}\r\n          className={\"value \" + (type === \"user\" ? \"background-white\" : \"\")}\r\n        >\r\n          {type === \"status\" ? result.value.text : result.value.name}\r\n        </h3>\r\n      </Link>\r\n\r\n\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nfunction mapState(state) {\r\n  return state\r\n}\r\n\r\n\r\nfunction mapDispatch(dispatch) {\r\n  return {\r\n    setUserClick: (user) => dispatch(setUserClick_a(user))\r\n  }\r\n}\r\n\r\nexport default connect(mapState, mapDispatch)(Result) ","import { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { setUserClick_a, setUser_a } from '../redux/actions/userActions'\r\nimport '../styles/Navbar.css'\r\nimport vein from '../vein'\r\nimport Friend from './Friend'\r\nimport Result from './Result'\r\nimport { Link } from 'react-router-dom'\r\nimport { getByDisplayValue } from '@testing-library/react'\r\nfunction Navbar(props) {\r\n  const DIR_PATH = \"/zenix\"\r\n  const { setUser, user, userList, statusList, setUserClick } = props\r\n  // const [search, setSearch] = useState(false)\r\n  const [full, setFull] = useState(true)\r\n  const [show, setShow] = useState(false)\r\n  const [showFriends, setShowFriends] = useState(false)\r\n  const [searchText, setSearchText] = useState('')\r\n  //list string cac het qua search\r\n  const [searchList, setSearchList] = useState([\"haha\", \"hehe\"])\r\n\r\n\r\n  const handleWidthChange = () => {\r\n    if (window.innerWidth <= 690) {\r\n      setFull(false)\r\n    } else {\r\n      setFull(true);\r\n    }\r\n  };\r\n\r\n  window.addEventListener('resize', handleWidthChange);\r\n\r\n  useEffect(() => {\r\n    handleWidthChange()\r\n  }, [])\r\n\r\n  function handleLogout() {\r\n    vein.deleteCookie(\"user\")\r\n    setUser(null)\r\n  }\r\n\r\n  function friendSection() {\r\n    return userList.map(fr => {\r\n      return (<Friend person={fr} />)\r\n    })\r\n  }\r\n\r\n  function findResult(key) {\r\n    let results = []\r\n    for (let i = 0; i < statusList.length; i++) {\r\n      if (statusList[i].text.toLowerCase().includes(key)) {\r\n        // console.log(\"kq: \", statusList[i])\r\n        results.push({ type: \"status\", value: statusList[i] })\r\n      }\r\n    }\r\n    //user list\r\n    for (let i = 0; i < userList.length; i++) {\r\n      if (userList[i].name.toLowerCase().includes(key)) {\r\n        results.push({ type: \"user\", value: userList[i] })\r\n      }\r\n    }\r\n\r\n\r\n    setSearchList(results)\r\n  }\r\n\r\n\r\n  function handleSearch(e) {\r\n    let inputText = e.target.value\r\n    setSearchText(e.target.value)\r\n    console.log(`searching: ${e.target.value}`)\r\n\r\n    if (inputText) {\r\n      let key = inputText.trim().toLowerCase()\r\n      findResult(key)\r\n    }\r\n  }\r\n\r\n  function resultSection() {\r\n    return searchList.map(res => {\r\n      return (\r\n        <Result result={res} />\r\n      )\r\n    })\r\n  }\r\n\r\n\r\n  const URL = \"https://i.pinimg.com/originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png\"\r\n  const searchIconURL = \"https://cdn2.iconfinder.com/data/icons/ios-7-icons/50/search-512.png\"\r\n  const extendIconURL = \"https://image.flaticon.com/icons/png/512/56/56763.png\"\r\n  const closeIconURL = \"https://uxwing.com/wp-content/themes/uxwing/download/01-user_interface/close.png\"\r\n  const friendsIconURL = \"https://img.icons8.com/ios/452/friends.png\"\r\n\r\n  const logoutIconURL = \"https://www.iconpacks.net/icons/2/free-exit-logout-icon-2857-thumb.png\"\r\n\r\n  function handleClick() {\r\n    setUserClick(user)\r\n  }\r\n  return (\r\n    <div className=\"navbar-container\">\r\n      <div className={\"navbar\"}>\r\n        <Link to={DIR_PATH + \"/\"}\r\n          onClick={() => setUserClick(null)}\r\n        >\r\n          <div className=\"logo\">\r\n          </div>\r\n        </Link>\r\n\r\n\r\n        {full &&\r\n          <>\r\n            <form className={\"form-search\"} onSubmit={(e) => { e.preventDefault(); setSearchText('') }}>\r\n              <img className=\"search-icon\" src={searchIconURL} />\r\n              <input\r\n                onChange={handleSearch}\r\n                className={\"input-search\"}\r\n                type=\"text\"\r\n                placeholder={\"search\"}\r\n                value={searchText} />\r\n              {\r\n                searchText &&\r\n                <div className=\"result-container\">\r\n                  {/* <h1>hah</h1> */}\r\n                  {resultSection()}\r\n                </div>\r\n              }\r\n\r\n            </form>\r\n\r\n            <Link\r\n              className=\"navbar-introduce\"\r\n              to={DIR_PATH + \"/information\"}\r\n\r\n              onClick={handleClick}>\r\n              <img\r\n                className=\"avatar\"\r\n                src={user.avatarURL} />\r\n              <div className=\"introduce-text\" >\r\n                <h3 className=\"name\">{user.name}</h3>\r\n                <h4 className=\"email\">{user.email}</h4>\r\n              </div>\r\n            </Link>\r\n\r\n            <button onClick={handleLogout} className=\"button-log\">logout</button>\r\n\r\n          </>\r\n        }\r\n        {!full &&\r\n          <>\r\n            <h1>ZENIX</h1>\r\n            <img onClick={() => setShow(!show)}\r\n              className=\"extend-icon\"\r\n              src={show ? closeIconURL : extendIconURL} />\r\n          </>\r\n        }\r\n\r\n      </div>\r\n      {show && !full &&\r\n        <ul className=\"navbar-mobile\">\r\n          <li className=\"item navbar-introduce\">\r\n            <img className=\"avatar\" src={URL} />\r\n            <div className=\"introduce-text\" >\r\n              <h3 className=\"name\">{user.name}</h3>\r\n              <h4 className=\"email\">{user.email}</h4>\r\n            </div>\r\n          </li>\r\n\r\n\r\n          <div className=\"item-logout\" onClick={handleLogout}>\r\n            <img className=\"icon-logout\" src={logoutIconURL} />\r\n          </div>\r\n\r\n\r\n          <div onClick={() => setShowFriends(!showFriends)} className=\"item\">\r\n            <img className=\"friend-icon\" src={friendsIconURL} />\r\n            {/* <img className=\"friend-icon\" src={friendsIconURL} /> */}\r\n          </div>\r\n\r\n          {\r\n            showFriends &&\r\n            friendSection()\r\n          }\r\n\r\n        </ul>\r\n      }\r\n\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nfunction mapState(state) {\r\n  return state\r\n}\r\n\r\n\r\nfunction mapDispatch(dispatch) {\r\n  return {\r\n    setUser: (user) => dispatch(setUser_a(user)),\r\n    setUserClick: (user) => dispatch(setUserClick_a(user))\r\n  }\r\n}\r\n\r\nexport default connect(mapState, mapDispatch)(Navbar)","\r\nimport '../styles/Home.css';\r\nimport { useState, useEffect } from 'react'\r\nimport Status from './Status'\r\nimport Navbar from './Navbar'\r\nimport Friend from './Friend'\r\nimport updateDocument from '../firebase/updateDocument';\r\nimport uploadDocument from '../firebase/uploadDocument';\r\nimport GetDocuments from '../firebase/getDocuments';\r\nimport vein from '../vein.js'\r\nimport StoragePicture from '../firebase/StoragePicture';\r\nimport { connect } from 'react-redux';\r\nimport { setUserList_a, setUser_a } from '../redux/actions/userActions';\r\nimport { setStatusList_a } from '../redux/actions/statusActions';\r\n\r\n// import { Route, BrowserRouter as Router } from 'react-router-dom'\r\nfunction Home(props) {\r\n  const {\r\n    user,\r\n    userList,\r\n    setStatusList\r\n  } = props\r\n\r\n\r\n  const statusList = GetDocuments(\"statuslist\")\r\n\r\n  const [friendList, setFriendList] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (statusList) {\r\n      setStatusList(statusList)\r\n    }\r\n\r\n  }, [statusList])\r\n\r\n\r\n  // console.log(userList)\r\n\r\n  const [showFriend, setShowFriend] = useState(true)\r\n\r\n\r\n  const [statusText, setStatusText] = useState('')\r\n  const [file, setFile] = useState(null)\r\n  const [pictureUrl, setPictureUrl] = useState('')\r\n  const [fileType, setFileType] = useState('image')\r\n  const [progress, setProgress] = useState(0)\r\n  const handleWidthChange = () => {\r\n    if (window.innerWidth <= 1263) {\r\n      setShowFriend(false)\r\n    } else {\r\n      setShowFriend(true);\r\n    }\r\n  };\r\n\r\n  // console.log(pictureUrl)\r\n\r\n\r\n  window.addEventListener('resize', handleWidthChange);\r\n\r\n\r\n  useEffect(() => {\r\n    handleWidthChange()\r\n\r\n\r\n  }, [])\r\n\r\n\r\n\r\n  function statusSection() {\r\n    return statusList.map(st => {\r\n      return (<Status user={user} status={st} key={st.id} />)\r\n    })\r\n  }\r\n\r\n\r\n  function friendSection() {\r\n    return userList.map(fr => {\r\n      return (<Friend person={fr} />)\r\n    })\r\n  }\r\n\r\n\r\n\r\n  async function handleUploadStatus(e) {\r\n    e.preventDefault()\r\n\r\n    let newStatus = {\r\n      text: statusText,\r\n      by: user,\r\n      like: [],\r\n      pictureUrl: pictureUrl,\r\n      fileType: fileType\r\n    }\r\n    // console.log(newStatus)\r\n    uploadDocument(\"statuslist\", newStatus, \"text\")\r\n    setStatusText('')\r\n    setPictureUrl('')\r\n    setProgress(0)\r\n    setFile(null)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (file) {\r\n      console.log(file)\r\n      if (file.type.includes('image')) {\r\n        setFileType('image')\r\n\r\n      } else {\r\n        setFileType('video')\r\n      }\r\n      StoragePicture(file, setPictureUrl, setProgress)\r\n\r\n    } else {\r\n      setPictureUrl('')\r\n      setProgress(0)\r\n    }\r\n\r\n\r\n  }, [file])\r\n\r\n  function handleUploadPicture(e) {\r\n    setFile(e.target.files[0])\r\n  }\r\n\r\n  const cameraIconURL = \"https://img.icons8.com/ios/452/compact-camera.png\"\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      {user &&\r\n        <>\r\n          <form className=\"form-upload-status\" onSubmit={handleUploadStatus}>\r\n            <input\r\n              value={statusText}\r\n              onChange={(e) => setStatusText(e.target.value)}\r\n              type=\"text\"\r\n              required\r\n              placeholder={`${user.name}, write something...`} />\r\n            <div className=\"bar\">\r\n              <button>upload</button>\r\n\r\n              {file && file.name}\r\n              <label for=\"file-input\">\r\n                <img\r\n                  className=\"icon\"\r\n                  src={cameraIconURL}\r\n                ></img>\r\n              </label>\r\n              <input\r\n                onChange={handleUploadPicture}\r\n                id=\"file-input\"\r\n                className=\"file\"\r\n                type=\"file\"\r\n              // value={file}\r\n              />\r\n\r\n            </div>\r\n            {file &&\r\n              <h3>upload: {progress} %</h3>\r\n            }\r\n\r\n            {\r\n              pictureUrl && fileType === \"image\" &&\r\n              <img src={pictureUrl} style={{ width: \"200px\", height: \"200px\" }} />\r\n            }\r\n            {\r\n              pictureUrl && fileType === \"video\" &&\r\n              // <img src={pictureUrl} style={{ width: \"200px\", height: \"200px\" }} />\r\n              <video\r\n                style={{ width: \"200px\", height: \"200px\" }}\r\n                controls>\r\n                <source src={pictureUrl} />\r\n              </video>\r\n            }\r\n\r\n            {\r\n              progress === 100 &&\r\n              <h3>file is ready</h3>\r\n\r\n            }\r\n\r\n          </form>\r\n\r\n\r\n          <div className=\"main-section\">\r\n            {showFriend &&\r\n              <div className=\"friend-section\">\r\n                {friendSection()}\r\n              </div>\r\n            }\r\n\r\n            <div className=\"status-container\">\r\n              {statusSection()}\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </>\r\n      }\r\n\r\n    </div >\r\n  );\r\n}\r\n\r\n\r\nfunction mapState(state) {\r\n  return state\r\n}\r\n\r\nfunction mapDispatch(dispatch) {\r\n  return {\r\n    setUser: (user) => dispatch(setUser_a(user)),\r\n    setUserList: (userList) => dispatch(setUserList_a(userList)),\r\n    setStatusList: (statusList) => dispatch(setStatusList_a(statusList))\r\n  }\r\n}\r\n\r\n// export default App;\r\nexport default connect(mapState, mapDispatch)(Home) ","function setStatusList_a(statusList) {\r\n    return {\r\n        type: \"SET_STATUS_LIST\",\r\n        statusList: statusList\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport { setStatusList_a }","// import { useEffect, useState } from 'react';\r\nimport { projectStorage, projectFirestore, timestamp } from './config';\r\n\r\n\r\n\r\nexport default function StoragePicture(file, setPictureUrl, setProgress) {\r\n    const storageRef = projectStorage.ref(file.name);\r\n    // const [url, setUrl] = useState(null)\r\n    // console.log(setPictureUrl)\r\n    // console.log(\"storage\")\r\n    storageRef.put(file)\r\n        .on('state_changed',\r\n            (snap) => {\r\n\r\n                let percent = (snap.bytesTransferred / snap.totalBytes) * 100;\r\n                // console.log('snap percent call: ', percent)\r\n                setProgress(parseInt(percent))\r\n            },\r\n            (err) => { },\r\n            async () => {\r\n                const url = await storageRef.getDownloadURL()\r\n                // \t\t\t// setUrl(url)\r\n                // \t\t\tconsole.log(\"URL: \", url)\r\n                setPictureUrl(url)\r\n            });\r\n\r\n    // return () => { setStatusPictureUrl('') }\r\n}\r\n\r\n","import { useState, useEffect } from 'react'\r\nimport uploadDocument from '../firebase/uploadDocument'\r\nimport '../styles/Chatbox.css'\r\nimport GetMessages from '../firebase/GetMessages'\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\nimport { setUserClick_a, setUserList_a } from '../redux/actions/userActions';\r\n\r\nfunction Chatbox(props) {\r\n    const { user, setChat } = props\r\n    const target = props.userClick\r\n    const setTarget = props.setUserClick\r\n    const [text, setText] = useState('')\r\n    const messages = GetMessages('messages', user.email, target.email)\r\n    const [count, setCount] = useState(0)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if (count != messages.length) {\r\n            scrollToBottom(\"scroll\")\r\n            setCount(messages.length)\r\n        }\r\n\r\n\r\n    }, [messages])\r\n\r\n\r\n\r\n    function scrollToBottom(id) {\r\n        var div = document.getElementById(id);\r\n        $('#' + id).animate({\r\n            scrollTop: div.scrollHeight - div.clientHeight\r\n        }, 300);\r\n    }\r\n\r\n\r\n    function handleSendMessage(e) {\r\n        e.preventDefault()\r\n        console.log(\"sending message...\")\r\n        let newMessage = {\r\n            text: text,\r\n            by: user,\r\n            room: user.email + target.email\r\n        }\r\n        uploadDocument('messages', newMessage, 'text')\r\n        setText('')\r\n    }\r\n    function handleClose() {\r\n        setChat(false)\r\n    }\r\n\r\n    function messageSection() {\r\n        return messages.map(message => {\r\n            return (\r\n                <div\r\n                    key={message.id}\r\n                    className={message.by.email !== user.email ? \"message\" : \"my-message\"}>\r\n                    <img\r\n                        className=\"avatar\"\r\n                        src={message.by.avatarURL}\r\n                    />\r\n                    <h3\r\n                        className={message.by.email !== user.email ? \"message-text\" : \"my-message-text\"}\r\n                    >{message.text}</h3>\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n    return (\r\n        <form className=\"chatbox\" onSubmit={handleSendMessage} >\r\n            {/* <h1>chatbox</h1> */}\r\n            <div className=\"title\">\r\n                <img\r\n                    className=\"avatar\"\r\n                    src={target.avatarURL} />\r\n                <h2>{target.email}</h2>\r\n                <h3\r\n                    onClick={handleClose}\r\n\r\n                    className=\"close\">close</h3>\r\n            </div>\r\n            <div id=\"scroll\" className=\"messages-container\">\r\n                {messageSection()}\r\n            </div>\r\n            <div className=\"new-message\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={text}\r\n                    required\r\n                    onChange={(e) => setText(e.target.value)}\r\n                    placeholder=\"text someshit...\"\r\n                />\r\n                <button>send</button>\r\n            </div>\r\n            {/* <button onClick={() => scrollToBottom(\"scroll\")}>dasdsa</button> */}\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nfunction mapState(state) {\r\n    return state\r\n}\r\n\r\nfunction mapDispatch(dispatch) {\r\n    return {\r\n        setUserClick: (user) => dispatch(setUserClick_a(user))\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapState, mapDispatch)(Chatbox) ","import { useState, useEffect } from 'react';\r\nimport { projectFirestore } from './config';\r\n\r\nexport default function GetMessages(collectionName, userEmail, targetEmail) {\r\n  const [myList, setMyList] = useState([])\r\n  useEffect(() => {\r\n    const unsub = projectFirestore\r\n      .collection(collectionName)\r\n      .orderBy('createAt', 'asc')\r\n      .onSnapshot(snap => {\r\n        let documents = []\r\n        snap.forEach(doc => {\r\n          if (doc.data()) {\r\n            if (doc.data().room === userEmail + targetEmail ||\r\n              doc.data().room === targetEmail + userEmail) {\r\n              documents.push({ ...doc.data(), id: doc.id })\r\n            }\r\n          }\r\n        })\r\n        setMyList(documents)\r\n      })\r\n    return () => unsub()\r\n\r\n  }, [collectionName])\r\n\r\n  return myList\r\n}","import { useEffect, useState } from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport GetMyStatuses from \"../firebase/GetMyStatuses\"\r\nimport updateDocument from \"../firebase/updateDocument\"\r\nimport '../styles/Information.css'\r\nimport Chatbox from \"./Chatbox\"\r\nimport Status from \"./Status\"\r\nfunction Information(props) {\r\n\r\n  const [chat, setChat] = useState(false)\r\n  const [isFriend, setIsFriend] = useState(false)\r\n  const {\r\n    userClick,\r\n    userList,\r\n    user,\r\n  } = props\r\n\r\n  useEffect(() => {\r\n    console.log(user.friends)\r\n    for (let i = 0; i < user.friends.length; i++) {\r\n      if (user.friends[i].email === userClick.email) {\r\n        console.log('is friend')\r\n        setIsFriend(true)\r\n        return\r\n      }\r\n    }\r\n\r\n    setIsFriend(false)\r\n    console.log('not friends')\r\n\r\n  }, [])\r\n\r\n\r\n  const myStatusList = GetMyStatuses('statuslist', userClick.id)\r\n\r\n\r\n  useEffect(() => {\r\n    console.log(\"mystatus: \", myStatusList)\r\n\r\n  }, [myStatusList])\r\n\r\n\r\n  function statusSection() {\r\n    return myStatusList.map(st => {\r\n      return (<Status user={user} status={st} key={st.id} />)\r\n    })\r\n  }\r\n\r\n  function handleAddFriend() {\r\n    // setIsFriend(!isFriend)\r\n\r\n    if (isFriend === false) {\r\n      updateDocument('userlist', user.id, 'friends', [...user.friends, userClick])\r\n      updateDocument('userlist', userClick.id, 'friends', [...user.friends, user])\r\n      setIsFriend(true)\r\n    } else {\r\n      setIsFriend(false)\r\n      let newFriendList = user.friends.filter(friend => {\r\n        return friend.id !== userClick.id\r\n      })\r\n\r\n      let newFriendList2 = userClick.friends.filter(friend => {\r\n        return friend.id !== user.id\r\n      })\r\n\r\n      console.log(\"userclickfriends:\", userClick)\r\n\r\n      updateDocument('userlist', user.id, 'friends', newFriendList)\r\n      updateDocument('userlist', userClick.id, 'friends', newFriendList2)\r\n\r\n\r\n\r\n    }\r\n\r\n  }\r\n\r\n  const tempURL = \"https://i.pinimg.com/originals/d4/bc/c4/d4bcc46e371e194b20854acd1ba3a86b.jpg\"\r\n  return (\r\n    <div className=\"information\">\r\n      <div\r\n        className=\"banner\">\r\n        <div className=\"left\">\r\n          <img className=\"avatar\" src={userClick.avatarURL} />\r\n          <h1>{userClick.name}</h1>\r\n          <div className=\"options center-flex-row\">\r\n            <h3 className=\"item unselect\" >friends</h3>\r\n            <h3 onClick={() => setChat(!chat)} className=\"item unselect\" >send message</h3>\r\n            <h3\r\n              onClick={handleAddFriend}\r\n              className=\"item unselect\" >{isFriend ? \"disfriend\" : \"addfriend\"}</h3>\r\n          </div>\r\n        </div>\r\n        <img className=\"right\" src={tempURL}></img>\r\n      </div>\r\n\r\n\r\n      {chat &&\r\n        <Chatbox setChat={setChat} />\r\n      }\r\n\r\n\r\n      <div className=\"status-container\">\r\n        <h1>{userClick.name}'s statuses</h1>\r\n        {statusSection()}\r\n      </div>\r\n\r\n\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nfunction mapState(state) {\r\n  return state\r\n}\r\n\r\nexport default connect(mapState)(Information) ","import { useState, useEffect } from 'react';\r\nimport { projectFirestore } from './config';\r\n\r\nexport default function GetMyStatuses(collectionName, userid) {\r\n\tconst [myList, setMyList] = useState([])\r\n\tuseEffect(() => {\r\n\t\tconst unsub = projectFirestore\r\n\t\t\t.collection(collectionName)\r\n\t\t\t.orderBy('createAt', 'desc')\r\n\t\t\t.onSnapshot(snap => {\r\n\t\t\t\tlet documents = []\r\n\t\t\t\tsnap.forEach(doc => {\r\n\t\t\t\t\tif (doc.data()) {\r\n\t\t\t\t\t\tif (doc.data().by.id === userid) {\r\n\t\t\t\t\t\t\tdocuments.push({ ...doc.data(), id: doc.id })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tsetMyList(documents)\r\n\t\t\t})\r\n\r\n\t\treturn () => unsub()\r\n\r\n\t}, [collectionName])\r\n\r\n\treturn myList\r\n}\r\n","import Home from './components/Home'\r\nimport Navbar from './components/Navbar'\r\nimport GetDocuments from './firebase/getDocuments'\r\nimport { useState, useEffect } from 'react'\r\nimport vein from './vein'\r\nimport uploadDocument from './firebase/uploadDocument'\r\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom'\r\nimport Information from './components/Information'\r\nimport './App.css'\r\nimport { connect } from 'react-redux'\r\nimport { setUser_a, setUserList_a } from './redux/actions/userActions'\r\nimport { setStatusList_a } from './redux/actions/statusActions'\r\nimport updateDocument from './firebase/updateDocument'\r\nimport GetFriends from './firebase/GetFriends'\r\n\r\n\r\nfunction App(props) {\r\n  const DIR_PATH = \"/zenix\"\r\n  // const [friendList, setFriendList] = useState\r\n  const {\r\n    user,\r\n    setUser,\r\n    setUserList,\r\n    userClick\r\n  } = props\r\n\r\n  const userList = GetDocuments(\"userlist\")\r\n\r\n\r\n  useEffect(() => {\r\n    setUserList(userList)\r\n  }\r\n    , [userList])\r\n\r\n  const [newName, setNewName] = useState('')\r\n  const [newEmail, setNewEmail] = useState('')\r\n  const [newAvatarURL, setNewAvatarURL] = useState('')\r\n  const [newPassword, setNewPassword] = useState('')\r\n  const [loginEmail, setLoginEmail] = useState('')\r\n  const [loginPassword, setLoginPassword] = useState('')\r\n  const [doRegister, setDoRegister] = useState(false)\r\n  useEffect(() => {\r\n    setUser(vein.getCookieObject(\"user\"))\r\n    console.log(\"props: \", props)\r\n\r\n  }, [])\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    console.log(\"set user\")\r\n    if (user) {\r\n      setUser(user)\r\n    }\r\n\r\n  }, [user])\r\n\r\n  function handleLogin(e) {\r\n    e.preventDefault()\r\n\r\n    if (userList) {\r\n      for (let i = 0; i < userList.length; i++) {\r\n        let { email, password } = userList[i]\r\n        if (email === loginEmail && password === loginPassword) {\r\n          vein.uploadCookie(\"user\", userList[i])\r\n          setUser(userList[i])\r\n          return;\r\n        }\r\n      }\r\n      alert(\"email or password wrong\")\r\n    }\r\n  }\r\n\r\n\r\n  const defaultAvatarURL = \"https://i.pinimg.com/\" +\r\n    \"originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png\"\r\n  function createUser(e) {\r\n    e.preventDefault()\r\n\r\n    const AVT = newAvatarURL ? newAvatarURL : defaultAvatarURL\r\n    let newUser = {\r\n      name: newName,\r\n      avatarURL: AVT,\r\n      email: newEmail,\r\n      password: newPassword\r\n    }\r\n\r\n    if (userList) {\r\n      for (let i = 0; i < userList.length; i++) {\r\n        let { email } = userList[i]\r\n        if (email === newEmail) {\r\n          alert(\"email existed\")\r\n          return;\r\n        }\r\n      }\r\n      uploadDocument(\"userlist\", newUser, \"name\")\r\n      alert(\"create success\")\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n\r\n      <div className=\"app\">\r\n        {user &&\r\n          < Navbar />\r\n        }\r\n\r\n\r\n        <Switch>\r\n          {\r\n            user &&\r\n            <Route path={\"/zenix/\"} exact component={Home} />\r\n          }\r\n\r\n          {userClick &&\r\n            <Route path={DIR_PATH + \"/information\"} exact component={Information} />\r\n          }\r\n          <Route path=\"/\" component={Home} />\r\n        </Switch>\r\n\r\n        {!doRegister && !user &&\r\n          // login\r\n          <form form className=\"form-log\" onSubmit={handleLogin}>\r\n            <div className=\"zenix-intro\">\r\n              <div className=\"white-logo\"></div>\r\n              <h1>ZENIX</h1>\r\n            </div>\r\n            <h1>LOGIN</h1>\r\n            <input onChange={(e) => setLoginEmail(e.target.value)} required className=\"input-log\" placeholder=\"email\" type=\"text\" />\r\n            <input onChange={(e) => setLoginPassword(e.target.value)} required className=\"input-log\" placeholder=\"password\" type=\"password\" />\r\n            <button className=\"button-log\">login</button>\r\n            <button onClick={() => setDoRegister(true)} className=\"button-log\">register</button>\r\n          </form>\r\n        }\r\n\r\n        {\r\n          doRegister && !user &&\r\n          <form className=\"form-log\" onSubmit={createUser}>\r\n            <div className=\"zenix-intro\">\r\n              <div className=\"white-logo\"></div>\r\n              <h1>ZENIX</h1>\r\n            </div>\r\n            <h1>CREATE NEW</h1>\r\n            <input required onChange={(e) => setNewName(e.target.value)} className=\"input-log\" placeholder=\"name\" type=\"text\" />\r\n            <input onChange={(e) => setNewAvatarURL(e.target.value)} className=\"input-log\" placeholder=\"avatar url\" type=\"text\" />\r\n            <input required onChange={(e) => setNewEmail(e.target.value)} className=\"input-log\" placeholder=\"email\" type=\"text\" />\r\n            <input required onChange={(e) => setNewPassword(e.target.value)} className=\"input-log\" placeholder=\"password\" type=\"password\" />\r\n            <button className=\"button-log\">create</button>\r\n            <button onClick={() => setDoRegister(false)} className=\"button-log\">back to login</button>\r\n          </form>\r\n        }\r\n\r\n\r\n      </div>\r\n\r\n    </Router>\r\n\r\n  )\r\n}\r\n\r\nfunction mapState(state) {\r\n  return state\r\n}\r\n\r\nfunction mapDispatch(dispatch) {\r\n  return {\r\n    setUser: (user) => dispatch(setUser_a(user)),\r\n    setUserList: (userList) => dispatch(setUserList_a(userList))\r\n\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapState, mapDispatch)(App)","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from 'redux';\r\nimport rootReducer from './redux/reducers/rootReducer'\r\n\r\nimport App from './App';\r\n\r\n// rootReducer\r\n// rootReducer()\r\nconst store = createStore(rootReducer)\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}